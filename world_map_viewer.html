<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title> World Map Viewer for TOGoS's Minecraft Map Renderer </title>
        <meta name="description" content="World Map Viewer for TOGoS's Minecraft Map Renderer">
        <meta name="version" content="1.0">
        <meta name="copyright" content="Copyright &copy; 2014 Tero Niemi (tero.niemi@nimbus.fi)">
        <meta name="license" content="AGPLv3 (http://www.gnu.org/licenses/agpl-3.0.html)">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script>

        // Configuration
        // -------------

        var window_title = 'My Own Server';  // Title text for the browser window.

        var default_origo = '#2_-2';         // Region where the map is centered by default.
                                             // You can also use alternative origos in URL:
                                             //     http://example.org/world_map_viewer.html#-3_7

        var tiles_baseurl = 'world_map/';    // Location of "tiles.html" (Relative to this file)
                                             // (Will be automatically appended to tile image URLs, etc.)

        var tiles_filename = 'tiles.html';   // "tiles.html" generated by TOGoS's Minecraft Map Renderer

        var tiles_html = null;               // Replace with 'table' (or other suitable DOM root)
                                             // if the table from "tiles.html" is actually at the end of this file.

        /*

        Installation (with a web server)
        --------------------------------

        Drop this file to the same server where your tiles.html and
        tile.x.z.png images are located.

        Check that "tiles_baseurl" and "tiles_filename" are correct.
        The tiles.html file should be available at:

            http://example.org/somedir/ tiles_baseurl + tiles_filename

        (when this file is located at http://example.org/somedir/)


        Installation (without a web server)
        -----------------------------------

        With Firefox you can use this file as-is. Just make sure that
        "tiles_baseurl" points to a subdirectory where tiles.html and
        tile.x.z.png images are located.

        With Chrome/Chromium replace the <body> tag (at the end of this
        file) with the version that is found at tiles.html. Change
        "tiles_html" variable to:

                var tiles_html = 'table';

        After that, make sure that "tiles_baseurl" points to a subdirectory
        where tile.x.z.png images are located.

        For offline use (no Internet connection) fetch jquery-2.1.0.min.js
        and place it at the same directory as this file:

            http://code.jquery.com/jquery-2.1.0.min.js


        Known issues
        ------------

        "Sharpness" option sucks at Chrome/Chromium:
            https://groups.google.com/a/chromium.org/forum/#!topic/blink-dev/Q8N6FoeoPXI

        Internet Explorer is not supported. Use at your own risk.


        Copyright et al.
        ----------------

        This file includes dragscrollable and scrollsync Copyright (c) 2009 Miquel Herrera
        Dual licensed under the MIT and GPL licenses:
            http://www.opensource.org/licenses/mit-license.php
            http://www.gnu.org/licenses/gpl.html

        This file also includes parts of minecraft.ttf created by DjDCH
        Licensed under Creative Commons License (Share Alike)

        TOGoS's Minecraft Map Renderer can be found at:
        http://www.nuke24.net/projects/TMCMR/

        Rest of the stuff is created by me (Tero Niemi) and
        licensed under AGPLv3 (http://www.gnu.org/licenses/agpl-3.0.html)

        Have fun!

        */
        </script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
        <script>!window.jQuery && document.write(unescape('%3Cscript src="jquery-2.1.0.min.js"%3E%3C/script%3E'))</script>
        <script>eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}(';(2($){$.C.R=2(c){9 d=$.D({E:\'>:r\',k:l,3:l},c||{});9 e={5:F,G:2(a){4(a.S!=1||(!a.0.k&&a.6!=7)){f 8}a.0.m={g:a.s,h:a.t};$.n.H(o,"I",e.u,a.0);$.n.H(o,"J",e.v,a.0);4(!e.5){e.5=a.5;$(e.5).T("K")}4(a.0.3){a.3();f 8}},v:2(a){9 b={g:(a.s-a.0.m.g),h:(a.t-a.0.m.h)};a.0.i.p(a.0.i.p()-b.g);a.0.i.q(a.0.i.q()-b.h);a.0.m={g:a.s,h:a.t};4(a.0.3){a.3();f 8}},u:2(a){$.n.L(o,"J",e.v);$.n.L(o,"I",e.u);4(e.5){$(e.5).U("K");e.5=F}4(a.0.3){a.3();f 8}}};7.V(2(){9 a={i:$(7),k:d.k,3:d.3};$(7).W(d.E).M(\'X\',a,e.G)})}})(N);(2($){$.C.Y=2(b){9 c=$.D({O:\':r\',j:\'w\'},b||{});2 P(a){4(a.0.z){a.0.A.p(a.0.6.p())}4(a.0.B){a.0.A.q(a.0.6.q())}};c.6=7.Q(c.O).Q(\':r\');c.A=7.Z(c.6);c.z=(c.j==\'w\'||c.j==\'x\')?l:8;c.B=(c.j==\'w\'||c.j==\'y\')?l:8;4(!c.z&&!c.B)f;c.6.M(\'10\',c,P)}})(N);',62,63,'data||function|preventDefault|if|delegateTarget|target|this|false|var||||||return|left|top|scrollable|axis|acceptPropagatedEvent|true|lastCoord|event|document|scrollLeft|scrollTop|first|clientX|clientY|mouseUpHandler|mouseMoveHandler|xy|||xaxis|followers|yaxis|fn|extend|dragSelector|null|mouseDownHandler|add|mouseup|mousemove|dragging|remove|bind|jQuery|targetSelector|scrollHandler|filter|dragscrollable|which|addClass|removeClass|each|find|mousedown|scrollsync|not|scroll'.split('|'),0,{}))</script>
        <script>
        $(function(){
/*********************************************************************************************************************************/
"use strict";

var zoom = {        // Changing only these values is not enough,
    '-5': 0.125,    // you have to alter the CSS "Zooming" section too.
    '-4': 0.250,
    '-3': 0.333,
    '-2': 0.500,
    '-1': 0.750,
     '0': 1.000,
     '1': 1.500,
     '2': 2.000,
     '3': 3.000,
     '4': 4.000,
     '5': 5.000,
     min: -5,
     max: 5,
     current: 0
};

var regions = false;
var grid = true;
var sharpness = false;

var horizontal_ruler_margin;
var vertical_ruler_margin;

// clear <body> style (in case it was also pasted from tiles.html)
$('body').attr('style', '');

// Check if tiles.html is actually this file
if (tiles_html && $(tiles_html)) {
    tiles_html = $(tiles_html)[0];
}

// Otherwise, fetch tiles.html over network
if (tiles_html) {
    build();
} else {
    $.ajax({
        url: tiles_baseurl + tiles_filename,
        dataType: "text"
    }).done(function(data) {
        tiles_html = $.parseHTML(data);
        build();
    }).fail(function(){
        $('body').html(
            '<h1>Unable to read remote file "'+ tiles_baseurl + tiles_filename +'"</h1>' +
            '<p>Is AJAX blocked by <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS">CORS?</a></p>'
        );
    });
}

// Event handlers:

function event_toggle_regions() {
    regions = !regions;
    if (regions) {
        $('#viewport').addClass('regions');
        $('#regions-controls .radio').addClass('selected');
    } else {
        $('#viewport').removeClass('regions');
        $('#regions-controls .radio').removeClass('selected');
    }
}

function event_toggle_grid() {
    grid = !grid;
    if (grid) {
        $('#viewport').addClass('grid');
        $('#grid-controls .radio').addClass('selected');
    } else {
        $('#viewport').removeClass('grid');
        $('#grid-controls .radio').removeClass('selected');
    }
}

function event_toggle_sharpness() {
    sharpness = !sharpness;
    if (sharpness) {
        $('#viewport').addClass('sharpness');
        $('#sharpness-controls .radio').addClass('selected');
    } else {
        $('#viewport').removeClass('sharpness');
        $('#sharpness-controls .radio').removeClass('selected');
    }
}

function event_zoom(z) {

    // Normalize the new zoom level
    if (typeof z !== 'undefined') {
        z = z < zoom.min ? zoom.min : z;
        z = z > zoom.max ? zoom.max : z;
        if (zoom.current === z) return;
    } else {
        z = zoom.current;
    }

    // Keep the current center of view
    var centerX = ($('#viewport').scrollLeft() + $(window).width()  / 2)  / zoom[zoom.current];
    var centerZ = ($('#viewport').scrollTop()  + $(window).height() / 2) / zoom[zoom.current];
    var scrollLeft = centerX * zoom[z] - $(window).width()  / 2;
    var scrollTop  = centerZ * zoom[z] - $(window).height() / 2;

    $('body').attr('class', 'zoom-'+ z);
    $('#viewport').scrollLeft(scrollLeft).scrollTop(scrollTop);
    $('#horizontal-ruler > .ruler-numbers:first > :first').attr('style', 'margin-left: ' + (horizontal_ruler_margin * zoom[z]) + 'px');
    $('#vertical-ruler   > .ruler-numbers:first > :first').attr('style', 'margin-top:'   + (vertical_ruler_margin   * zoom[z]) + 'px');
    zoom.current = z;
}

// Select/de-select region file names with a single click
var region_name_previous_select = null;
function event_select_region(elem) {
    if (!window.getSelection) return;

    var range, selection;
    if (elem === region_name_previous_select) {
        selection = window.getSelection();
        selection.removeAllRanges();
        region_name_previous_select = null;
    } else {
        selection = window.getSelection();
        range = document.createRange();
        range.selectNodeContents(elem);
        selection.removeAllRanges();
        selection.addRange(range);
        region_name_previous_select = elem;
    }
}

// Build the whole UI
function build() {
    var match;  // Regular expression matches

    // Go trough all table cells and images
    var X, Z;
    var minX = Number.POSITIVE_INFINITY;
    var maxX = Number.NEGATIVE_INFINITY;
    var minZ = Number.POSITIVE_INFINITY;
    var maxZ = Number.NEGATIVE_INFINITY;
    $('td', tiles_html).each(function(index, td) {
        var img;
        if (!$.trim($(td).html())) {
            // Add fillers to empty table cells
            $(td).html('<span class="empty-cell"></span>');
        } else {
            img = $('img:first', td);
            // Calculate map dimensions, fix image urls, add region names
            if (match = $(img).attr('src').match(/^tile\.(-?\d+)\.(-?\d+)\.png$/)) {
                X = parseInt(match[1], 10);
                Z = parseInt(match[2], 10);
                minX = X < minX ? X : minX;
                minZ = Z < minZ ? Z : minZ;
                maxX = X > maxX ? X : maxX;
                maxZ = Z > maxZ ? Z : maxZ;
                $(img).attr('src', tiles_baseurl + $(img).attr('src'));
                $(img).attr('id', X +'_'+ Z);
                $(td).prepend('<span class="region-name">r.'+ X +'.'+ Z +'.mca</span>');
            }
        }
    });

    // Exit if no tile images were found
    if (minX === Number.POSITIVE_INFINITY) {
        $('body').html(
            '<h1>No tile images found in html!</h1>' +
            '<p>Please provide a working "tiles.html"</p>'
        );
        return;
    };

    // Create UI (overwriting body element)
    var table_rows = $('tbody', tiles_html).html();
    var zoom_levels = '';
    for (Z = zoom.min; Z <= zoom.max; ++Z) {
        zoom_levels += '<div class="control zoom-level zoom-' + Z + '"></div>'
    }
    $('body').html(
        '<div id="viewport" class="grid"><div id="zoom"><table id="map">' +
            table_rows +
            '<tr><td><div id="grid" class="dragger"></div></td></tr>' +
        '</table></div></div>' +
        '<div id="horizontal-ruler"><div class="ruler-numbers"></div></div>' +
        '<div id="vertical-ruler"><div class="ruler-numbers"></div></div>' +
        '<div id="zoom-controls">' +
            '<div id="zoom-out" class="control button">-</div>' +
            zoom_levels +
            '<div id="zoom-in" class="control button">+</div>' +
        '</div>' +
        '<div id="regions-controls">' +
            '<div class="label">Regions</div>' +
            '<div class="control radio"></div>' +
        '</div>' +
        '<div id="grid-controls">' +
            '<div class="label">Grid</div>' +
            '<div class="control radio selected"></div>' +
        '</div>' +
        '<div id="sharpness-controls">' +
            '<div class="label">Sharpness</div>' +
            '<div class="control radio"></div>' +
        '</div>'
    );

    // Bind events
    $('#zoom-in').click(function() {  event_zoom(zoom.current + 1); });
    $('#zoom-out').click(function() { event_zoom(zoom.current - 1); });
    $('#zoom-controls .zoom--5').click(function() { event_zoom(-5); });
    $('#zoom-controls .zoom--4').click(function() { event_zoom(-4); });
    $('#zoom-controls .zoom--3').click(function() { event_zoom(-3); });
    $('#zoom-controls .zoom--2').click(function() { event_zoom(-2); });
    $('#zoom-controls .zoom--1').click(function() { event_zoom(-1); });
    $('#zoom-controls .zoom-0').click(function() {  event_zoom(0); });
    $('#zoom-controls .zoom-1').click(function() {  event_zoom(1); });
    $('#zoom-controls .zoom-2').click(function() {  event_zoom(2); });
    $('#zoom-controls .zoom-3').click(function() {  event_zoom(3); });
    $('#zoom-controls .zoom-4').click(function() {  event_zoom(4); });
    $('#zoom-controls .zoom-5').click(function() {  event_zoom(5); });
    $('#regions-controls').click(event_toggle_regions);
    $('#grid-controls').click(event_toggle_grid);
    $('#sharpness-controls').click(event_toggle_sharpness);
    $('#viewport .region-name').click(function(event) { event_select_region(event.currentTarget); });

    // Set up grid
    $('#grid').attr('style', 'background-position: '+ (-minX * 512) +'px '+ (-minZ * 512) +'px');

    // Set rulers to follow viewport scroll
    $('#viewport, #horizontal-ruler').scrollsync({targetSelector: '#viewport', axis : 'x'});
    $('#viewport, #vertical-ruler').scrollsync({targetSelector: '#viewport', axis : 'y'});

    // Add numbers to rulers

    var ruler_html;

    function ruler_class_name(n) {
        var class_name;
        if (n % 1000 === 0) {
            class_name = 'number-1000';
        } else if (n % 500 === 0) {
            class_name = 'number-500';
        } else if (n % 100 === 0) {
            class_name = 'number-100';
        } else if (n % 50 === 0) {
            class_name = 'number-50';
        } else if (n % 25 === 0) {
            class_name = 'number-25';
        }
        if (n === 0) { class_name += ' number-0'; }
        return class_name;
    }

    // Horizontal ruler
    ruler_html = "";
    X = Math.ceil(minX * 512 / 500) * 500;
    horizontal_ruler_margin = X - minX * 512 + 2;
    for (; X < (maxX + 20) * 512; X += 25) {
        ruler_html += '<span class="' + ruler_class_name(X) + '">' + X + '</span>';
    }
    $('#horizontal-ruler > .ruler-numbers:first').html(ruler_html);
    $('#horizontal-ruler > .ruler-numbers:first > :first').attr('style', 'margin-left: ' + horizontal_ruler_margin + 'px');

    // Vertical ruler
    ruler_html = "";
    Z = Math.ceil(minZ * 512 / 500) * 500;
    vertical_ruler_margin = Z - minZ * 512 + 2;
    for (; Z < (maxZ + 20) * 512; Z += 25) {
        ruler_html += '<span class="' + ruler_class_name(Z) + '">' + Z + '</span>';
    }
    $('#vertical-ruler > .ruler-numbers:first').html(ruler_html);
    $('#vertical-ruler > .ruler-numbers:first > :first').attr('style', 'margin-top: ' + vertical_ruler_margin + 'px');

    // Set drag scrolling on first descendant of class dragger
    $('#viewport').dragscrollable({dragSelector: '.dragger:first', acceptPropagatedEvent: false});

    // Set window title
    document.title = window_title;

    // Force zoom event
    event_zoom();

    // Re-focus (using URL hash if requested)
    match = document.location.hash.match(/^\#(-?\d+)_(-?\d+)$/) ? match[0] : default_origo;
    if (typeof $(match)[0] !== 'undefined') {
        window.setTimeout(function() { $(match)[0].scrollIntoView(); }, 10);
    }
}

/*********************************************************************************************************************************/
        });
        </script>
        <style>
/*********************************************************************************************************************************/

@font-face {
    font-family: 'minecraft';
    src: url(data:application/x-font-woff;charset=utf-8;base64,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) format('woff');
    font-weight: normal;
    font-style: normal;
}

* {
    margin: 0;
    padding: 0;
    border: 0;
}
HTML, BODY {
    width: 100%;
    height: 100%;
}
BODY {
    font-family: 'minecraft';
    font-size: 16px;
    color: #999;
    text-shadow: 2px 2px 0 #000;
    background-color: #333;
}
H1 {
    font-weight: normal;
    font-size: 32px;
    margin: 32px 32px 16px 32px;
}
P {
    margin: 16px 32px;
}
A {
    color: #fff;
    text-decoration: none;
    text-shadow: none;
    border-bottom: 2px solid #fff;
}

/*** Viewport ****************************************************************/
#viewport {
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    overflow: scroll;
}
#viewport, #viewport * {
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
    cursor: default;
}

#viewport .dragger {
    cursor: -webkit-grab;
    cursor: grab;
}
#viewport .dragger.dragging {
    cursor: -webkit-grabbing;
    cursor: grabbing;
}

#map {
    position: relative;
    border-collapse: collapse;
}
#map .empty-cell {
    display: inline-block;
}
#map IMG, #map .empty-cell {
    vertical-align: middle;
    width: 512px;
    height: 512px;
}

#grid {
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background: none;
}
#viewport.grid #grid {
    background: url(data:image/png;base64,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);
}

#viewport.regions IMG {
    box-shadow: 0 0 10px #000;
}
#viewport .region-name {
    position: absolute;
    z-index: 1;
    display: none;
    -webkit-user-select: text;
    -moz-user-select: text;
    cursor: text;
    text-shadow: none;
    font-size: 32px;
    margin: 8px;
    color: rgba(0, 0, 0, 0.5);
}
#viewport.regions .region-name {
    display: inline-block;
}
/*** /Viewport ***************************************************************/

/*** Rulers ******************************************************************/
#horizontal-ruler, #vertical-ruler {
    position: absolute;
    overflow: hidden;
    font-family: 'minecraft';
    font-size: 8px;
    color: #fff;
    text-shadow: 1px 1px 0 #000;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
    cursor: default;
}
#horizontal-ruler {
    top: 0;
    left: 0;
    right: 16px;
    white-space: nowrap;
}
#vertical-ruler {
    top: 12px;
    left: 0;
    bottom: 16px;
}
#vertical-ruler .ruler-numbers {
    margin-top: -12px;
    padding-left: 3px;
    overflow: hidden;
}
#horizontal-ruler .ruler-numbers {
    padding-top: 3px;
}
#horizontal-ruler SPAN {
    display: inline-block;
    vertical-align: middle;
    width: 25px;
}
#vertical-ruler SPAN {
    display: block;
    vertical-align: middle;
    height: 25px;
}
/*** /Rulers *****************************************************************/

/*** Controls ****************************************************************/
.control {
    display: inline-block;
    vertical-align: middle;
    text-align: center;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
    cursor: pointer;
    height: 16px;
    padding: 6px;
    margin-right: 2px;
    margin-bottom: 2px;
    box-shadow: 0 0 0 2px #000;
    color: #eee;
    background: #888;
    border-top:    2px solid #cfcfcf;
    border-left:   2px solid #cfcfcf;
    border-bottom: 2px solid #555555;
    border-right:  2px solid #555555;
}
.control.selected, .control.button:hover {
    color: #ffc;
    background: #9af;
    border-top:    2px solid #d9dfff;
    border-left:   2px solid #d9dfff;
    border-bottom: 2px solid #5c6699;
    border-right:  2px solid #5c6699;
}
.control:active {
    padding: 8px 4px 4px 8px;
    text-shadow: none;
    background: #9af;
    border-top:    2px solid #5c6699 !important;
    border-left:   2px solid #5c6699 !important;
    border-bottom: 2px solid #d9dfff !important;
    border-right:  2px solid #d9dfff !important;
}
.label {
    display: inline-block;
    vertical-align: middle;
    text-align: right;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
    cursor: pointer;
    height: 16px;
    padding: 7px 7px 9px 9px;
    color: #eee;
}
.control.radio {
    width: 16px;
}

#zoom-controls {
    position: fixed;
    left: 40px;
    bottom: 40px;
}
#zoom-controls .button {
    width: 16px;
}
#regions-controls {
    position: fixed;
    right: 40px;
    bottom: 120px;
}
#grid-controls {
    position: fixed;
    right: 40px;
    bottom: 80px;
}
#sharpness-controls {
    position: fixed;
    right: 40px;
    bottom: 40px;
}
/*** /Controls ***************************************************************/

/*** Zooming *****************************************************************/
#zoom {
    -webkit-transform-origin: 0 0;
    transform-origin: 0 0;
}
.zoom--5 #zoom { -webkit-transform: scale(0.125); transform: scale(0.125); }
.zoom--4 #zoom { -webkit-transform: scale(0.250); transform: scale(0.250); }
.zoom--3 #zoom { -webkit-transform: scale(0.333); transform: scale(0.333); }
.zoom--2 #zoom { -webkit-transform: scale(0.500); transform: scale(0.500); }
.zoom--1 #zoom { -webkit-transform: scale(0.750); transform: scale(0.750); }
.zoom-0  #zoom { -webkit-transform: scale(1.000); transform: scale(1.000); }
.zoom-1  #zoom { -webkit-transform: scale(1.500); transform: scale(1.500); }
.zoom-2  #zoom { -webkit-transform: scale(2.000); transform: scale(2.000); }
.zoom-3  #zoom { -webkit-transform: scale(3.000); transform: scale(3.000); }
.zoom-4  #zoom { -webkit-transform: scale(4.000); transform: scale(4.000); }
.zoom-5  #zoom { -webkit-transform: scale(5.000); transform: scale(5.000); }

.zoom--5 #horizontal-ruler SPAN { width: 62.5px }
.zoom--5 #horizontal-ruler .number-100,
.zoom--5 #horizontal-ruler .number-50,
.zoom--5 #horizontal-ruler .number-25 { display: none; }
.zoom--5 #zoom-controls .zoom--5 {
    color: #ffc;
    background: #9af;
    border-top:    2px solid #d9dfff;
    border-left:   2px solid #d9dfff;
    border-bottom: 2px solid #5c6699;
    border-right:  2px solid #5c6699;
}
.zoom--5 #vertical-ruler SPAN { height: 62.5px }
.zoom--5 #vertical-ruler .number-100,
.zoom--5 #vertical-ruler .number-50,
.zoom--5 #vertical-ruler .number-25 { display: none; }

.zoom--4 #horizontal-ruler SPAN { width: 125px }
.zoom--4 #horizontal-ruler .number-100,
.zoom--4 #horizontal-ruler .number-50,
.zoom--4 #horizontal-ruler .number-25 { display: none; }
.zoom--4 #zoom-controls .zoom--4 {
    color: #ffc;
    background: #9af;
    border-top:    2px solid #d9dfff;
    border-left:   2px solid #d9dfff;
    border-bottom: 2px solid #5c6699;
    border-right:  2px solid #5c6699;
}
.zoom--4 #vertical-ruler SPAN { height: 125px }
.zoom--4 #vertical-ruler .number-100,
.zoom--4 #vertical-ruler .number-50,
.zoom--4 #vertical-ruler .number-25 { display: none; }

.zoom--3 #horizontal-ruler SPAN { width: 166.5px }
.zoom--3 #horizontal-ruler .number-100,
.zoom--3 #horizontal-ruler .number-50,
.zoom--3 #horizontal-ruler .number-25 { display: none; }
.zoom--3 #zoom-controls .zoom--3 {
    color: #ffc;
    background: #9af;
    border-top:    2px solid #d9dfff;
    border-left:   2px solid #d9dfff;
    border-bottom: 2px solid #5c6699;
    border-right:  2px solid #5c6699;
}
.zoom--3 #vertical-ruler SPAN { height: 166.5px }
.zoom--3 #vertical-ruler .number-100,
.zoom--3 #vertical-ruler .number-50,
.zoom--3 #vertical-ruler .number-25 { display: none; }

.zoom--2 #horizontal-ruler SPAN { width: 50px }
.zoom--2 #horizontal-ruler .number-50,
.zoom--2 #horizontal-ruler .number-25 { display: none; }
.zoom--2 #zoom-controls .zoom--2 {
    color: #ffc;
    background: #9af;
    border-top:    2px solid #d9dfff;
    border-left:   2px solid #d9dfff;
    border-bottom: 2px solid #5c6699;
    border-right:  2px solid #5c6699;
}
.zoom--2 #vertical-ruler SPAN { height: 50px }
.zoom--2 #vertical-ruler .number-50,
.zoom--2 #vertical-ruler .number-25 { display: none; }

.zoom--1 #horizontal-ruler SPAN { width: 75px }
.zoom--1 #horizontal-ruler .number-50,
.zoom--1 #horizontal-ruler .number-25 { display: none; }
.zoom--1 #zoom-controls .zoom--1 {
    color: #ffc;
    background: #9af;
    border-top:    2px solid #d9dfff;
    border-left:   2px solid #d9dfff;
    border-bottom: 2px solid #5c6699;
    border-right:  2px solid #5c6699;
}
.zoom--1 #vertical-ruler SPAN { height: 75px }
.zoom--1 #vertical-ruler .number-50,
.zoom--1 #vertical-ruler .number-25 { display: none; }

.zoom-0 #horizontal-ruler SPAN { width: 100px }
.zoom-0 #horizontal-ruler .number-50,
.zoom-0 #horizontal-ruler .number-25 { display: none; }
.zoom-0 #zoom-controls .zoom-0 {
    color: #ffc;
    background: #9af;
    border-top:    2px solid #d9dfff;
    border-left:   2px solid #d9dfff;
    border-bottom: 2px solid #5c6699;
    border-right:  2px solid #5c6699;
}
.zoom-0 #vertical-ruler SPAN { height: 100px }
.zoom-0 #vertical-ruler .number-50,
.zoom-0 #vertical-ruler .number-25 { display: none; }

.zoom-1 #horizontal-ruler SPAN { width: 75px }
.zoom-1 #horizontal-ruler .number-25 { display: none; }
.zoom-1 #zoom-controls .zoom-1 {
    color: #ffc;
    background: #9af;
    border-top:    2px solid #d9dfff;
    border-left:   2px solid #d9dfff;
    border-bottom: 2px solid #5c6699;
    border-right:  2px solid #5c6699;
}
.zoom-1 #vertical-ruler SPAN { height: 75px }
.zoom-1 #vertical-ruler .number-25 { display: none; }

.zoom-2 #horizontal-ruler SPAN { width: 100px }
.zoom-2 #horizontal-ruler .number-25 { display: none; }
.zoom-2 #zoom-controls .zoom-2 {
    color: #ffc;
    background: #9af;
    border-top:    2px solid #d9dfff;
    border-left:   2px solid #d9dfff;
    border-bottom: 2px solid #5c6699;
    border-right:  2px solid #5c6699;
}
.zoom-2 #vertical-ruler SPAN { height: 100px }
.zoom-2 #vertical-ruler .number-25 { display: none; }

.zoom-3 #horizontal-ruler SPAN { width: 75px }
.zoom-3 #zoom-controls .zoom-3 {
    color: #ffc;
    background: #9af;
    border-top:    2px solid #d9dfff;
    border-left:   2px solid #d9dfff;
    border-bottom: 2px solid #5c6699;
    border-right:  2px solid #5c6699;
}
.zoom-3 #vertical-ruler SPAN { height: 75px }

.zoom-4 #horizontal-ruler SPAN { width: 100px }
.zoom-4 #zoom-controls .zoom-4 {
    color: #ffc;
    background: #9af;
    border-top:    2px solid #d9dfff;
    border-left:   2px solid #d9dfff;
    border-bottom: 2px solid #5c6699;
    border-right:  2px solid #5c6699;
}
.zoom-4 #vertical-ruler SPAN { height: 100px }

.zoom-5 #horizontal-ruler SPAN { width: 125px }
.zoom-5 #zoom-controls .zoom-5 {
    color: #ffc;
    background: #9af;
    border-top:    2px solid #d9dfff;
    border-left:   2px solid #d9dfff;
    border-bottom: 2px solid #5c6699;
    border-right:  2px solid #5c6699;
}
.zoom-5 #vertical-ruler SPAN { height: 125px }
/*** /Zooming ****************************************************************/

#viewport.sharpness * {
    image-rendering: optimizeSpeed;             /*                     */
    image-rendering: -moz-crisp-edges;          /* Firefox             */
    image-rendering: -o-crisp-edges;            /* Opera               */
    image-rendering: -webkit-optimize-contrast; /* Chrome (and Safari) */
    image-rendering: optimize-contrast;         /* CSS3 Proposed       */
    image-rendering: pixelated;                 /* CSS3 Proposed       */
    -ms-interpolation-mode: nearest-neighbor;   /* IE8+                */
}

/*********************************************************************************************************************************/
    </style>
</head>
<body><!--

    You can replace this body with the one from the "tiles.html" file.

    If you do so, set the tiles_html variable to 'table', like:

        var tiles_html = 'table';

--></body>
</html>
